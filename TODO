##
## TODO
##

* Redindex the database with the new field: series. The dr_number is a bit more
dificult to handle, maybe in the future. 

* Import Jorge Leitão's data to the DocumentText table and create the meta-data entries
  where necessary
  
* Use Xapian's PostingSource (http://xapian.org/docs/postingsource.html) to change the 
  document weight based on a link analisys between docs.

* Bookmarks
    * Use the is_ajax where possible
    * Order
    * Filters

* Tags
    * Order

* Use the following div structure for all the results everywhere:

<li class="result_item">
    <div class="result_header"></div>
    <div class="document_notes"></div>
    <div class="decoration">
        <div class="deco_toolbar">
            <span class="deco_controls"></span>
            <span class="tags"> </span>
        </div>
        <div class="user_notes"> </div>
        <div class="add_note"> </div>
        <div class="add_tag"> </div>
    </div>
</li>

##
## DONE
##

2014-11-16

* Download the PDFs - DONE
* Add info about the next file - DONE
* Add new columns to the Document table (and populate them!) - DONE
* Remove the text extractig stuff from the scraper - DONE
* Generate the html from the text - DONE initial stage
* Fix the 'plain_txt' method of the Document table class - DONE
* Clean up imports from the scrapper - DONE
* Clean up auxiliary functions - DONE
* Strip the dre.py from the connections to the old scaper - DONE
* Add to dre.py the new scrapper (maybe two commands, date and date range) - DONE
* Update the series on the documents retrived before 2014-09-18 - DONE

2012-11-10

Numbers: We have numbers like '1790/2004(2ªSérie)', these must be corrected.

2012-08-16

* Get the document's PDFs from the server;

* Include a field "in_force". This info can be extracted from the document 
  number: 

  number: 12449/2002 (2ª Série)Diploma não vigente

  Example: claint = 70

* Make a list of failed documents, mantain a table with this list. Periodically
  the list should be re-downloaded. Make this N times then give up on the
  document.

* Account for "Vigência condicional" status. Added the conditional flag. 
